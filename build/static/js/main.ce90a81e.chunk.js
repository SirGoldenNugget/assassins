(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{62:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(1),r=a.n(s),o=a(29),i=a.n(o),c=a(10),l=a(11),u=a(3),h=a(14),b=a(13),d=(a(36),a(12)),j=a(2),m=a(9),g=a.n(m),p=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onLogout=n.onLogout.bind(Object(u.a)(n)),n}return Object(l.a)(a,[{key:"onLogout",value:function(e){var t=this;e.preventDefault(),g.a.get("/logout",{withCredentials:!0}).then((function(e){console.log(e),200===e.status&&t.props.setUser({isAuthenticated:!1,username:null})}))}},{key:"render",value:function(){return Object(n.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(n.jsx)(d.b,{to:"/",className:"navbar-brand",children:"Assassins"}),Object(n.jsx)("div",{className:"collpase navbar-collapse",children:Object(n.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(n.jsx)("li",{className:"navbar-item",children:this.props.isAuthenticated?Object(n.jsx)(d.b,{to:"/",className:"nav-link",onClick:this.onLogout,children:"Logout"}):Object(n.jsx)(d.b,{to:"/login",className:"nav-link",children:"Login"})}),Object(n.jsx)("li",{className:"navbar-item",children:Object(n.jsx)(d.b,{to:"/register",className:"nav-link",children:"Register"})})]})})]})}}]),a}(s.Component),O=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onChangeUsername=n.onChangeUsername.bind(Object(u.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(u.a)(n)),n.onSubmit=n.onSubmit.bind(Object(u.a)(n)),n.state={username:"",password:""},n}return Object(l.a)(a,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={username:this.state.username,password:this.state.password};console.log(a),g.a.post("/login",a,{withCredentials:!0}).then((function(e){console.log(e),200===e.status&&(t.props.setUser({isAuthenticated:!0,username:e.data.username}),t.setState({redirectTo:"/"}))}))}},{key:"render",value:function(){return this.state.redirectTo?Object(n.jsx)(j.a,{to:{pathname:this.state.redirectTo}}):Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"Login"}),Object(n.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Username: "}),Object(n.jsx)("input",{type:"text",required:!0,className:"form-control",value:this.state.username,onChange:this.onChangeUsername})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Password: "}),Object(n.jsx)("input",{type:"password",className:"form-control",value:this.state.password,onChange:this.onChangePassword})]}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"submit",value:"Login",className:"btn btn-primary"})})]})]})}}]),a}(s.Component),v=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onChangeUsername=n.onChangeUsername.bind(Object(u.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(u.a)(n)),n.onChangeConfirmPassword=n.onChangeConfirmPassword.bind(Object(u.a)(n)),n.canSubmit=n.canSubmit.bind(Object(u.a)(n)),n.onSubmit=n.onSubmit.bind(Object(u.a)(n)),n.state={username:"",password:"",confirmPassword:""},n}return Object(l.a)(a,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"onChangeConfirmPassword",value:function(e){this.setState({confirmPassword:e.target.value})}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={username:this.state.username,password:this.state.password};console.log(a),g.a.post("/register",a,{withCredentials:!0}).then((function(e){200===e.status&&t.setState({redirectTo:"/login"})}))}},{key:"canSubmit",value:function(){return this.state.username.length>0&&this.state.password.length>0&&this.state.password===this.state.confirmPassword}},{key:"render",value:function(){return this.state.redirectTo?Object(n.jsx)(j.a,{to:{pathname:this.state.redirectTo}}):Object(n.jsxs)("div",{children:[Object(n.jsx)("h3",{children:"Register"}),Object(n.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Username: "}),Object(n.jsx)("input",{type:"text",required:!0,className:"form-control",value:this.state.username,onChange:this.onChangeUsername})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Password: "}),Object(n.jsx)("input",{type:"password",className:"form-control",value:this.state.password,onChange:this.onChangePassword})]}),Object(n.jsxs)("div",{className:"form-group",children:[Object(n.jsx)("label",{children:"Confirm Password: "}),Object(n.jsx)("input",{type:"password",className:"form-control",value:this.state.confirmPassword,onChange:this.onChangeConfirmPassword})]}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"submit",value:"Register",disabled:!this.canSubmit,className:"btn btn-primary"})})]})]})}}]),a}(s.Component),f=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).onChangePartyCode=n.onChangePartyCode.bind(Object(u.a)(n)),n.onJoinParty=n.onJoinParty.bind(Object(u.a)(n)),n.onCreateParty=n.onCreateParty.bind(Object(u.a)(n)),n.state={partyCode:""},n}return Object(l.a)(a,[{key:"onJoinParty",value:function(e){e.preventDefault();var t={partyCode:this.state.partyCode};console.log(t),g.a.post("http://localhost:5000/join",t,{withCredentials:!0}).then((function(e){return console.log(e.data)}))}},{key:"onChangePartyCode",value:function(e){this.setState({partyCode:e.target.value})}},{key:"onCreateParty",value:function(e){var t=this;e.preventDefault(),g.a.get("/create",{withCredentials:!0}).then((function(e){console.log(e.data),200===e.status||401===e.status&&t.setState({redirectTo:"/login"})}))}},{key:"render",value:function(){return this.state.redirectTo?Object(n.jsx)(j.a,{to:{pathname:this.state.redirectTo}}):Object(n.jsxs)("div",{className:"text-center",children:[Object(n.jsxs)("form",{className:"form-inline justify-content-center mb-3",onSubmit:this.onJoinParty,children:[Object(n.jsx)("div",{className:"form-group mx-sm-3",children:Object(n.jsx)("input",{type:"text",className:"form-control",value:this.state.partyCode,onChange:this.onChangePartyCode,id:"partyCode",placeholder:"Party Code"})}),Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"submit",value:"Join Party",className:"btn btn-primary"})})]}),Object(n.jsx)("form",{onSubmit:this.onCreateParty,children:Object(n.jsx)("div",{className:"form-group",children:Object(n.jsx)("input",{type:"submit",value:"Create Party",className:"btn btn-primary"})})}),Object(n.jsx)("br",{})]})}}]),a}(s.Component),C=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var n;return Object(c.a)(this,a),(n=t.call(this,e)).state={isAuthenticated:!1,username:null},n.getUser=n.getUser.bind(Object(u.a)(n)),n.setUser=n.setUser.bind(Object(u.a)(n)),n}return Object(l.a)(a,[{key:"getUser",value:function(){var e=this;g.a.get("/login",{withCredentials:!0}).then((function(t){console.log(t.data),200===t.status&&e.setState({isAuthenticated:!0,username:t.data.username})}))}},{key:"setUser",value:function(e){this.setState(e)}},{key:"componentDidMount",value:function(){this.getUser()}},{key:"render",value:function(){var e=this;return Object(n.jsx)(d.a,{children:Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(p,{isAuthenticated:this.state.isAuthenticated,setUser:this.setUser}),Object(n.jsx)("br",{}),Object(n.jsx)(j.b,{path:"/",exact:!0,component:f}),Object(n.jsx)(j.b,{path:"/login",render:function(){return Object(n.jsx)(O,{setUser:e.setUser})}}),Object(n.jsx)(j.b,{path:"/register",component:v})]})})}}]),a}(s.Component),x=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,63)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,r=t.getLCP,o=t.getTTFB;a(e),n(e),s(e),r(e),o(e)}))};i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(C,{})}),document.getElementById("root")),x()}},[[62,1,2]]]);
//# sourceMappingURL=main.ce90a81e.chunk.js.map