(this.webpackJsonpassassins=this.webpackJsonpassassins||[]).push([[0],{128:function(e,t,a){"use strict";a.r(t);var s=a(0),n=a(1),r=a.n(n),i=a(62),o=a.n(i),c=a(10),l=a(11),u=a(4),h=a(14),b=a(13),d=(a(69),a(12)),j=a(2),m=a(9),p=a.n(m),v=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).onLogout=s.onLogout.bind(Object(u.a)(s)),s}return Object(l.a)(a,[{key:"onLogout",value:function(e){var t=this;e.preventDefault(),p.a.get("/api/logout",{withCredentials:!0}).then((function(e){console.log(e),200===e.status&&t.props.setUser({isAuthenticated:!1,username:null})}))}},{key:"render",value:function(){return Object(s.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light bg-light",children:[Object(s.jsx)(d.b,{to:"/",className:"navbar-brand",children:"Assassins"}),Object(s.jsx)("div",{className:"collpase navbar-collapse",children:Object(s.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(s.jsx)("li",{className:"navbar-item",children:this.props.isAuthenticated?Object(s.jsx)(d.b,{to:"/",className:"nav-link",onClick:this.onLogout,children:"Logout"}):Object(s.jsx)(d.b,{to:"/login",className:"nav-link",children:"Login"})}),!this.props.isAuthenticated&&Object(s.jsx)("li",{className:"navbar-item",children:Object(s.jsx)(d.b,{to:"/register",className:"nav-link",children:"Register"})})]})})]})}}]),a}(n.Component),g=a(29),O=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(u.a)(s)),s.onSubmit=s.onSubmit.bind(Object(u.a)(s)),s.state={username:"",password:"",error:!1},s}return Object(l.a)(a,[{key:"onChange",value:function(e){var t=e.target,a=t.name,s=t.value;this.setState(Object(g.a)({},a,s))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={username:this.state.username,password:this.state.password};console.log(a),p.a.post("/api/login",a,{withCredentials:!0}).then((function(e){console.log(e),200===e.status&&(t.props.setUser({isAuthenticated:!0,username:e.data.username}),t.setState({redirectTo:"/"}))})).catch((function(e){console.log(e),401===e.response.status&&t.setState({error:!0})}))}},{key:"canSubmit",value:function(){return this.state.username.length>0&&this.state.password.length>0}},{key:"render",value:function(){return this.state.redirectTo?Object(s.jsx)(j.a,{to:{pathname:this.state.redirectTo}}):Object(s.jsxs)("div",{children:[Object(s.jsx)("h3",{children:"Login"}),this.state.error&&Object(s.jsx)("div",{className:"alert alert-danger",role:"alert",children:"Invalid username and/or password."}),Object(s.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Username: "}),Object(s.jsx)("input",{type:"text",required:!0,name:"username",className:"form-control",value:this.state.username,onChange:this.onChange})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Password: "}),Object(s.jsx)("input",{type:"password",name:"password",className:"form-control",value:this.state.password,onChange:this.onChange})]}),Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("input",{type:"submit",value:"Login",className:"btn btn-primary",disabled:!this.canSubmit()})})]})]})}}]),a}(n.Component),f=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(u.a)(s)),s.canSubmit=s.canSubmit.bind(Object(u.a)(s)),s.onSubmit=s.onSubmit.bind(Object(u.a)(s)),s.state={username:"",password:"",confirmPassword:"",error:!1},s}return Object(l.a)(a,[{key:"onChange",value:function(e){var t=e.target,a=t.name,s=t.value;this.setState(Object(g.a)({},a,s))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={username:this.state.username,password:this.state.password};console.log(a),p.a.post("/api/register",a,{withCredentials:!0}).then((function(e){200===e.status&&t.setState({redirectTo:"/login"})})).catch((function(e){console.log(e),401===e.response.status&&t.setState({error:!0})}))}},{key:"canSubmit",value:function(){return this.state.username.length>0&&this.state.password.length>0&&this.state.password===this.state.confirmPassword}},{key:"render",value:function(){return this.state.redirectTo?Object(s.jsx)(j.a,{to:{pathname:this.state.redirectTo}}):Object(s.jsxs)("div",{children:[Object(s.jsx)("h3",{children:"Register"}),this.state.error&&Object(s.jsx)("div",{className:"alert alert-danger",role:"alert",children:"Username is already in use."}),Object(s.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Username: "}),Object(s.jsx)("input",{type:"text",name:"username",required:!0,className:"form-control",value:this.state.username,onChange:this.onChange})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Password: "}),Object(s.jsx)("input",{type:"password",name:"password",className:"form-control",value:this.state.password,onChange:this.onChange})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Confirm Password: "}),Object(s.jsx)("input",{type:"password",name:"confirmPassword",className:"form-control",value:this.state.confirmPassword,onChange:this.onChange})]}),Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("input",{type:"submit",value:"Register",disabled:!this.canSubmit(),className:"btn btn-primary"})})]})]})}}]),a}(n.Component),x=(a(94),function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).onJoinParty=s.onJoinParty.bind(Object(u.a)(s)),s.onChangePartyCode=s.onChangePartyCode.bind(Object(u.a)(s)),s.onCreateParty=s.onCreateParty.bind(Object(u.a)(s)),s.state={partyCode:""},s}return Object(l.a)(a,[{key:"onSocketEvent",value:function(){}},{key:"componentDidMount",value:function(){this.onSocketEvent()}},{key:"componentDidUpdate",value:function(){this.onSocketEvent()}},{key:"onJoinParty",value:function(e){var t=this;e.preventDefault(),p.a.get("/api/join/"+this.state.partyCode,{withCredentials:!0}).then((function(e){200===e.status&&console.log(e.data)})).catch((function(e){console.log(e),401===e.response.status&&t.setState({redirectTo:"/login"})}))}},{key:"onChangePartyCode",value:function(e){this.setState({partyCode:e.target.value})}},{key:"onCreateParty",value:function(e){var t=this;e.preventDefault(),p.a.get("/api/create",{withCredentials:!0}).then((function(e){200===e.status&&console.log(e.data)})).catch((function(e){console.log(e),401===e.response.status&&t.setState({redirectTo:"/login"})}))}},{key:"render",value:function(){return this.state.redirectTo?Object(s.jsx)(j.a,{to:{pathname:this.state.redirectTo}}):Object(s.jsxs)("div",{className:"text-center",children:[Object(s.jsxs)("form",{className:"form-inline justify-content-center mb-3",onSubmit:this.onJoinParty,children:[Object(s.jsx)("div",{className:"form-group mx-sm-3",children:Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.partyCode,onChange:this.onChangePartyCode,id:"partyCode",placeholder:"Party Code"})}),Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("input",{type:"submit",value:"Join Party",className:"btn btn-primary",disabled:0===this.state.partyCode.length})})]}),Object(s.jsx)("form",{onSubmit:this.onCreateParty,children:Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("input",{type:"submit",value:"Create Party",className:"btn btn-primary"})})}),Object(s.jsx)("br",{})]})}}]),a}(n.Component)),y=function(e){Object(h.a)(a,e);var t=Object(b.a)(a);function a(e){var s;return Object(c.a)(this,a),(s=t.call(this,e)).state={isAuthenticated:!1,username:null},s.getUser=s.getUser.bind(Object(u.a)(s)),s.setUser=s.setUser.bind(Object(u.a)(s)),s}return Object(l.a)(a,[{key:"getUser",value:function(){var e=this;p.a.get("/api/login",{withCredentials:!0}).then((function(t){console.log(t.data),200===t.status&&e.setState({isAuthenticated:!0,username:t.data.username})})).catch((function(e){console.log(e)}))}},{key:"setUser",value:function(e){this.setState(e)}},{key:"componentDidMount",value:function(){this.getUser()}},{key:"render",value:function(){var e=this;return Object(s.jsx)(d.a,{children:Object(s.jsxs)("div",{className:"container",children:[Object(s.jsx)(v,{isAuthenticated:this.state.isAuthenticated,setUser:this.setUser}),Object(s.jsx)("br",{}),Object(s.jsx)(j.b,{path:"/",exact:!0,render:function(){return Object(s.jsx)(x,{isAuthenticated:e.state.isAuthenticated})}}),Object(s.jsx)(j.b,{path:"/login",render:function(){return Object(s.jsx)(O,{setUser:e.setUser})}}),Object(s.jsx)(j.b,{path:"/register",component:f})]})})}}]),a}(n.Component),C=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,129)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),r(e),i(e)}))};o.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(y,{})}),document.getElementById("root")),C()}},[[128,1,2]]]);
//# sourceMappingURL=main.159a48ab.chunk.js.map