(this.webpackJsonpassassins=this.webpackJsonpassassins||[]).push([[0],{87:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a(0),r=a.n(n),c=a(30),i=a.n(c),o=a(49),l=a(15),h=a(16),j=a(18),d=a(17),b=(a(57),a(7)),u=a(5),m=a(10),O=a.n(m),p=a(27),x=a(14),y=Object(n.createContext)(),g=function(e){var t=e.children,a=Object(n.useState)(""),r=Object(x.a)(a,2),c=r[0],i=r[1],o=Object(n.useState)(""),l=Object(x.a)(o,2),h=l[0],j=l[1],d=Object(n.useState)(""),b=Object(x.a)(d,2),u=b[0],m=b[1],O=Object(n.useState)(!1),p=Object(x.a)(O,2),g=p[0],v=p[1],f=Object(n.useState)(!1),C=Object(x.a)(f,2),w=C[0],P=C[1],S=Object(n.useState)(!0),N=Object(x.a)(S,2),k=N[0],T=N[1];return Object(s.jsx)(y.Provider,{value:{username:c,setUsername:i,partyCode:h,setPartyCode:j,target:u,setTarget:m,isAdmin:g,setIsAdmin:v,isAuth:w,setIsAuth:P,isAlive:k,setIsAlive:T},children:t})},v=a(24),f=a(25);function C(){var e=Object(n.useContext)(y);return Object(s.jsx)(v.a,{collapseOnSelect:!0,expand:"sm",bg:"dark",variant:"dark",sticky:"top",children:Object(s.jsxs)(p.a,{children:[Object(s.jsx)(v.a.Brand,{as:b.b,to:"/",children:"Assassins"}),Object(s.jsx)(v.a.Toggle,{"aria-controls":"responsive-navbar-nav"}),Object(s.jsx)(v.a.Collapse,{id:"responsive-navbar-nav",children:Object(s.jsxs)(f.a,{className:"mr-auto",children:[e.isAuth?Object(s.jsxs)(r.a.Fragment,{children:[Object(s.jsx)(f.a.Link,{as:b.b,to:"/login",onClick:function(){O.a.get("/api/logout",{withCredentials:!0}).then((function(t){console.log(t),200===t.status&&(e.setIsAuth(!1),e.setUsername(""),e.setPartyCode(""))}))},children:"Logout"}),Object(s.jsx)(f.a.Link,{as:b.b,to:"/user/"+e.username,children:"Profile"})]}):Object(s.jsxs)(r.a.Fragment,{children:[Object(s.jsx)(f.a.Link,{as:b.b,to:"/login",children:"Login"}),Object(s.jsx)(f.a.Link,{as:b.b,to:"/register",children:"Register"})]}),Object(s.jsx)(f.a.Link,{as:b.b,to:"/help",children:"Help"})]})})]})})}function w(){return Object(s.jsx)(v.a,{expand:"sm",bg:"dark",variant:"dark",fixed:"bottom",children:Object(s.jsx)(p.a,{children:Object(s.jsxs)(v.a.Text,{children:["Created by ",Object(s.jsx)("a",{href:"https://github.com/minhd-vu/",children:"Minh Vu"}),". Project on ",Object(s.jsx)("a",{href:"https://github.com/minhd-vu/assassins",children:"GitHub"}),"."]})})})}var P=a(26),S=a(9),N=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(S.a)(s)),s.onSubmit=s.onSubmit.bind(Object(S.a)(s)),s.state={username:"",password:"",error:!1},s}return Object(h.a)(a,[{key:"onChange",value:function(e){var t=e.target,a=t.name,s=t.value;this.setState(Object(P.a)({},a,s))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={username:this.state.username,password:this.state.password};console.log(a),O.a.post("/api/login",a,{withCredentials:!0}).then((function(e){console.log(e),200===e.status&&(t.context.setIsAuth(!0),t.context.setUsername(e.data.username),t.context.setPartyCode(e.data.partyCode),t.context.setIsAdmin(e.data.isAdmin),t.setState({redirectTo:"/"}))})).catch((function(e){console.log(e),401===e.response.status&&t.setState({error:!0})}))}},{key:"canSubmit",value:function(){return this.state.username.length>0&&this.state.password.length>0}},{key:"render",value:function(){return this.state.redirectTo?Object(s.jsx)(u.a,{to:{pathname:this.state.redirectTo}}):Object(s.jsxs)("div",{children:[Object(s.jsx)("h3",{children:"Login"}),this.state.error&&Object(s.jsx)("div",{className:"alert alert-danger",role:"alert",children:"Invalid username and/or password."}),Object(s.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Username: "}),Object(s.jsx)("input",{type:"text",required:!0,name:"username",className:"form-control",value:this.state.username,onChange:this.onChange})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Password: "}),Object(s.jsx)("input",{type:"password",name:"password",className:"form-control",value:this.state.password,onChange:this.onChange})]}),Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("input",{type:"submit",value:"Login",className:"btn btn-primary",disabled:!this.canSubmit()})})]})]})}}]),a}(n.Component);N.contextType=y;var k=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onChange=s.onChange.bind(Object(S.a)(s)),s.canSubmit=s.canSubmit.bind(Object(S.a)(s)),s.onSubmit=s.onSubmit.bind(Object(S.a)(s)),s.state={username:"",password:"",confirmPassword:"",error:!1},s}return Object(h.a)(a,[{key:"onChange",value:function(e){var t=e.target,a=t.name,s=t.value;this.setState(Object(P.a)({},a,s))}},{key:"onSubmit",value:function(e){var t=this;e.preventDefault();var a={username:this.state.username,password:this.state.password};console.log(a),O.a.post("/api/register",a,{withCredentials:!0}).then((function(e){200===e.status&&(t.context.setUsername(a.username),t.context.setIsAuth(!0),t.setState({redirectTo:"/"}))})).catch((function(e){console.log(e),401===e.response.status&&t.setState({error:!0})}))}},{key:"canSubmit",value:function(){return this.state.username.length>0&&this.state.password.length>0&&this.state.password===this.state.confirmPassword}},{key:"render",value:function(){return this.state.redirectTo?Object(s.jsx)(u.a,{to:{pathname:this.state.redirectTo}}):Object(s.jsxs)("div",{children:[Object(s.jsx)("h3",{children:"Register"}),this.state.error&&Object(s.jsx)("div",{className:"alert alert-danger",role:"alert",children:"Username is already in use."}),Object(s.jsxs)("form",{onSubmit:this.onSubmit,children:[Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Username: "}),Object(s.jsx)("input",{type:"text",name:"username",required:!0,className:"form-control",value:this.state.username,onChange:this.onChange})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Password: "}),Object(s.jsx)("input",{type:"password",name:"password",className:"form-control",value:this.state.password,onChange:this.onChange})]}),Object(s.jsxs)("div",{className:"form-group",children:[Object(s.jsx)("label",{children:"Confirm Password: "}),Object(s.jsx)("input",{type:"password",name:"confirmPassword",className:"form-control",value:this.state.confirmPassword,onChange:this.onChange})]}),Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("input",{type:"submit",value:"Register",disabled:!this.canSubmit(),className:"btn btn-primary"})})]})]})}}]),a}(n.Component);k.contextType=y;var T=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onLeaveParty=s.onLeaveParty.bind(Object(S.a)(s)),s.onStartParty=s.onStartParty.bind(Object(S.a)(s)),s.state={},s}return Object(h.a)(a,[{key:"onStartParty",value:function(e){e.preventDefault()}},{key:"onLeaveParty",value:function(e){var t=this;e.preventDefault(),O.a.get("/api/leave",{withCredentials:!0}).then((function(e){console.log(e),200===e.status&&(t.context.setPartyCode(""),t.context.setIsAdmin(!1),t.setState({redirectTo:"/"}))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return this.state.redirectTo?Object(s.jsx)(u.a,{to:{pathname:this.state.redirectTo}}):Object(s.jsxs)("div",{className:"text-center",children:[Object(s.jsxs)("h4",{children:["Party Code: ",Object(s.jsx)("b",{children:this.context.partyCode})]}),Object(s.jsx)("label",{className:"col-sm-2 col-form-label",children:"Target"}),this.context.isAdmin&&Object(s.jsx)("form",{onSubmit:this.onStartParty,children:Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("input",{type:"submit",value:"Start Party",className:"btn btn-primary"})})}),Object(s.jsx)("form",{onSubmit:this.onLeaveParty,children:Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("input",{type:"submit",value:"Leave Party",className:"btn btn-primary"})})})]})}}]),a}(n.Component);T.contextType=y;var A=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(l.a)(this,a),(s=t.call(this,e)).onJoinParty=s.onJoinParty.bind(Object(S.a)(s)),s.onChangePartyCode=s.onChangePartyCode.bind(Object(S.a)(s)),s.onCreateParty=s.onCreateParty.bind(Object(S.a)(s)),s.state={partyCode:"",error:!1},s}return Object(h.a)(a,[{key:"onJoinParty",value:function(e){var t=this;e.preventDefault(),O.a.get("/api/join/"+this.state.partyCode,{withCredentials:!0}).then((function(e){200===e.status?(console.log(e.data),t.context.setUsername(e.data)):204===e.status&&t.setState({error:!0})})).catch((function(e){console.log(e),401===e.response.status&&t.setState({redirectTo:"/login"})}))}},{key:"onChangePartyCode",value:function(e){this.setState({partyCode:e.target.value})}},{key:"onCreateParty",value:function(e){var t=this;e.preventDefault(),O.a.get("/api/create",{withCredentials:!0}).then((function(e){200===e.status&&(t.context.setPartyCode(e.data),t.context.setIsAdmin(!0))})).catch((function(e){console.log(e),401===e.response.status&&t.setState({redirectTo:"/login"})}))}},{key:"render",value:function(){return this.state.redirectTo?Object(s.jsx)(u.a,{to:{pathname:this.state.redirectTo}}):Object(s.jsxs)("div",{className:"text-center",children:[this.state.error&&Object(s.jsxs)("div",{className:"alert alert-danger",role:"alert",children:["Cannot find party with code ",Object(s.jsx)("b",{children:this.state.partyCode}),"."]}),Object(s.jsxs)("form",{onSubmit:this.onJoinParty,children:[Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("input",{type:"text",className:"form-control",value:this.state.partyCode,onChange:this.onChangePartyCode,id:"partyCode",placeholder:"Party Code"})}),Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("input",{type:"submit",value:"Join Party",className:"btn btn-primary",disabled:0===this.state.partyCode.length})})]}),Object(s.jsx)("form",{onSubmit:this.onCreateParty,children:Object(s.jsx)("div",{className:"form-group",children:Object(s.jsx)("input",{type:"submit",value:"Create Party",className:"btn btn-primary"})})})]})}}]),a}(n.Component);function I(){return Object(n.useContext)(y).partyCode?Object(s.jsx)(T,{}):Object(s.jsx)(A,{})}function L(){return Object(s.jsxs)("div",{children:[Object(s.jsx)("h3",{children:"How to Play"}),Object(s.jsx)("p",{children:"Assassins is a game that can be played almost anywhere, but best done in semi-crowded environments. The goal of the game is to be the last remaining person alive and to assassinate whomever you are assigned."}),Object(s.jsx)("h4",{children:"Create a User"}),Object(s.jsxs)("p",{children:["Before doing anything, you should create a user. It will keep track of your statistics as well as identifying who you are in a party. You can register yourself by heading to the ",Object(s.jsx)(b.b,{to:"/register",children:"register"})," link in the navbar. Once you create a user, you will no longer be able to change the username or password."]}),Object(s.jsxs)("p",{children:["If you already have a user, you can login by heading to the ",Object(s.jsx)(b.b,{to:"/login",children:"login"})," link in the navbar."]}),Object(s.jsx)("h4",{children:"Party System"}),Object(s.jsx)("p",{children:"Once you have logged in you have the option of joining or creating a party. A party is an instance of the assassins game; it is how you connect with your friends."}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-sm",children:[Object(s.jsx)("h5",{children:"Join a Party"}),Object(s.jsxs)("p",{children:["To join a party, type in the party code in the input field on the ",Object(s.jsx)(b.b,{to:"/",children:"home page"})," then click the ",Object(s.jsx)("strong",{children:"Join Party"})," button. Once a party has started you can no longer join it."]})]}),Object(s.jsxs)("div",{className:"col-sm",children:[Object(s.jsx)("h5",{children:"Create a Party"}),Object(s.jsxs)("p",{children:["To create a party, click the ",Object(s.jsx)("strong",{children:"Create Party"})," button on the ",Object(s.jsx)(b.b,{to:"/",children:"home page"}),". Once you have created it, the app will display the party code in ",Object(s.jsx)("strong",{children:"bold"}),". Give this code to your friends so that they can join."]})]})]}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsxs)("div",{className:"col-sm",children:[Object(s.jsx)("h5",{children:"Leave a Party"}),Object(s.jsx)("p",{children:"Once you join a party, you have the option of leaving it. You can leave it anytime, and the app will handle the reshuffling of players."})]}),Object(s.jsxs)("div",{className:"col-sm",children:[Object(s.jsx)("h5",{children:"Start a Party"}),Object(s.jsx)("p",{children:"Only the party leader can start the party. Once started everyone is assigned a target."})]})]}),Object(s.jsx)("h4",{children:"Eliminate Targets"}),Object(s.jsxs)("p",{children:["You will be assigned a target to assassinate, hence the name ",Object(s.jsx)("i",{children:"assassins"}),". Once you assassinated your target, either by means of dart blasters, tag, projectile launchers, or any other method, click the ",Object(s.jsx)("b",{children:"Assassinate"})," button."]}),Object(s.jsx)("p",{children:"A notification will be send to the target just eliminated, the target will have option of confirming or denying the assassination attempt. If the attempt is denied, the game continues; this is inplace to prevent accidental misclicks. If the attempt is successful, you will be assigned a new target depending on the game mode."}),Object(s.jsx)("h4",{children:"Game Modes"}),Object(s.jsxs)("dl",{className:"row",children:[Object(s.jsx)("dt",{className:"col-sm-3",children:"Classic"}),Object(s.jsx)("dd",{className:"col-sm-9",children:"When you assassinate a target, your next target will be the target your target had. If you recieve yourself as a target, you have the ability to assassinate anyone."}),Object(s.jsx)("dt",{className:"col-sm-3",children:"Shuffle"}),Object(s.jsx)("dd",{className:"col-sm-9",children:Object(s.jsx)("p",{children:"When a player assassinates a target, all players will recieve a new target from the remaining players alive."})})]})]})}A.contextType=y;var D=a(51);function U(e){var t=e.match.params.username,a=Object(n.useState)(0),r=Object(x.a)(a,2),c=r[0],i=r[1],o=Object(n.useState)(0),l=Object(x.a)(o,2),h=l[0],j=l[1],d=Object(n.useState)(!1),b=Object(x.a)(d,2),u=b[0],m=b[1];return Object(n.useEffect)((function(){console.log("username"+t),O.a.get("/api/user/"+t,{withCredentials:!0}).then((function(e){200===e.status?(console.log(e.data),i(e.data.elims),j(e.data.deaths),m(!1)):204===e.status&&m(!0)})).catch((function(e){console.log(e)}))})),u?Object(s.jsxs)(D.a,{variant:"danger",children:["No user found with username ",Object(s.jsx)("b",{children:t}),"."]},"danger"):Object(s.jsxs)("table",{className:"table",children:[Object(s.jsx)("thead",{className:"thead-light",children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{scope:"col",children:"Name"}),Object(s.jsx)("th",{scope:"col",children:"Kills"}),Object(s.jsx)("th",{scope:"col",children:"Deaths"}),Object(s.jsx)("th",{scope:"col",children:"K/D"})]})}),Object(s.jsx)("tbody",{children:Object(s.jsxs)("tr",{children:[Object(s.jsx)("td",{children:t}),Object(s.jsx)("td",{children:c}),Object(s.jsx)("td",{children:h}),Object(s.jsx)("td",{children:(c/h).toFixed(2)})]})})]})}var J=function(e){Object(j.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(h.a)(a,[{key:"componentDidMount",value:function(){var e=this;O.a.get("/api/login",{withCredentials:!0}).then((function(t){console.log(t.data),200===t.status&&(e.context.setIsAuth(!0),e.context.setUsername(t.data.username),e.context.setPartyCode(t.data.partyCode))})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){return Object(s.jsxs)(b.a,{children:[Object(s.jsx)(C,{}),Object(s.jsx)("br",{}),Object(s.jsxs)(p.a,{children:[Object(s.jsx)(u.b,{path:"/",exact:!0,component:I}),Object(s.jsx)(u.b,{path:"/login",component:N}),Object(s.jsx)(u.b,{path:"/register",component:k}),Object(s.jsx)(u.b,{path:"/user/:username",render:function(e){return Object(s.jsx)(U,Object(o.a)({},e))}}),Object(s.jsx)(u.b,{path:"/help",component:L})]}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)("br",{}),Object(s.jsx)(w,{})]})}}]),a}(n.Component);J.contextType=y;var F=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,89)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,r=t.getLCP,c=t.getTTFB;a(e),s(e),n(e),r(e),c(e)}))};i.a.render(Object(s.jsx)(r.a.StrictMode,{children:Object(s.jsx)(g,{children:Object(s.jsx)(J,{})})}),document.getElementById("root")),F()}},[[87,1,2]]]);
//# sourceMappingURL=main.bc31ff0b.chunk.js.map